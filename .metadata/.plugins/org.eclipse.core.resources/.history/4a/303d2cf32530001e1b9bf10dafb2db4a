package day15;

import java.util.ArrayList;
import java.util.Stack;

public class Assignment_day15_5 {
	
	public static ArrayList<Integer> asteroidCollision(int [] asteroids) {
		ArrayList<Integer> arr = new ArrayList<Integer>();
		Stack<Integer> stack = new Stack<Integer>();
		
		for(int i=0;i<asteroids.length;i++) {
			System.out.println(i);
			int asteroid = asteroids[i];
			if(stack.isEmpty()) {
				stack.push(asteroid);
				continue;
			}
			else if(asteroid>0) {
				stack.push(asteroid);
				continue;}
			else{ //asteroid is negative
				int top = stack.peek();
				
				if(Math.abs(top)>Math.abs(asteroid))
					continue;
				else if(Math.abs(top)==Math.abs(asteroid)) {
					stack.pop();
					continue;
				}
				else { //if -ve asteroid is bigger than and top is +ve
					if(Math.abs(top)<Math.abs(asteroid)) {
					while(Math.abs(top)<Math.abs(asteroid)) {
						
						stack.pop();
						top=stack.peek();
						System.out.println(top);
					}
					
					if(Math.abs(top)>Math.abs(asteroid))
					
					stack.push(asteroid);
					}
					
					else {
						continue;
					}
					
				
					
				}
				
			}
		}
		
//		System.out.println("hi");
		while(!stack.isEmpty()) {
			arr.add(stack.pop());
		}
//		ans = arr.stream().mapToInt(Integer::intValue).toArray();
		return arr;
	}
	

	public static void main(String[] args) {
		// TODO Auto-generated method 
		int [] asteroids = {10,2,-5};
		System.out.println(asteroidCollision(asteroids));
		
		

	}

}
